{
  "swagger": "2.0",
  "securityDefinitions": {
    "bearer": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header"
    }
  },
  "security": [
    {
      "bearer": []
    }
  ],
  "schemes": [
    "http"
  ],
  "paths": {
    "/roles/{role_id}/permissions": {
      "post": {
        "tags": [
          "Permission"
        ],
        "summary": "",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/PermissionsResponse"
            },
            "description": "OK"
          }
        },
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "role_id",
            "in": "path",
            "description": "Role ID"
          },
          {
            "schema": {
              "$ref": "#/definitions/AddPermissionsToRole"
            },
            "required": false,
            "name": "permissions",
            "in": "body",
            "description": "Add Permissions to Role attrs"
          }
        ],
        "operationId": "TdAuthWeb.PermissionController.add_permissions_to_role",
        "description": "Add Permissions to Role"
      },
      "get": {
        "tags": [
          "Permission"
        ],
        "summary": "",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/PermissionsResponse"
            },
            "description": "OK"
          }
        },
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "role_id",
            "in": "path",
            "description": "Role ID"
          }
        ],
        "operationId": "TdAuthWeb.PermissionController.get_role_permissions",
        "description": "List Role Permissions"
      }
    },
    "/permissions/{id}": {
      "get": {
        "tags": [
          "Permission"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/PermissionResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Permission ID"
          }
        ],
        "operationId": "TdAuthWeb.PermissionController.show",
        "description": "Show Permission"
      }
    },
    "/permissions": {
      "get": {
        "tags": [
          "Permission"
        ],
        "summary": "",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/PermissionsResponse"
            },
            "description": "OK"
          }
        },
        "parameters": [],
        "operationId": "TdAuthWeb.PermissionController.index",
        "description": "List Permissions"
      }
    },
    "/api/users/{user_id}/groups/{id}": {
      "delete": {
        "tags": [
          "Group"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "204": {
            "description": ""
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "user_id",
            "in": "path",
            "description": "User ID"
          },
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Group ID"
          }
        ],
        "operationId": "TdAuthWeb.GroupController.delete_user_groups",
        "description": "Create a group"
      }
    },
    "/api/users/{user_id}/groups": {
      "post": {
        "tags": [
          "Group"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "201": {
            "schema": {
              "$ref": "#/definitions/GroupsResponseData"
            },
            "description": "Created"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/GroupsCreate"
            },
            "required": false,
            "name": "groups",
            "in": "body",
            "description": "Groups create attrs"
          },
          {
            "type": "integer",
            "required": true,
            "name": "user_id",
            "in": "path",
            "description": "User ID"
          }
        ],
        "operationId": "TdAuthWeb.GroupController.add_groups_to_user",
        "description": "Add groups to users"
      },
      "get": {
        "tags": [
          "Group"
        ],
        "summary": "",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/GroupsResponseData"
            },
            "description": "OK"
          }
        },
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "User ID"
          }
        ],
        "operationId": "TdAuthWeb.GroupController.user_groups",
        "description": "User Groups"
      }
    },
    "/api/users/{user_id}/change_password": {
      "patch": {
        "tags": [
          "User"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "User ID"
          },
          {
            "schema": {
              "$ref": "#/definitions/UserChangePassword"
            },
            "required": false,
            "name": "user",
            "in": "body",
            "description": "User change password attrs"
          }
        ],
        "operationId": "TdAuthWeb.UserController.change_password",
        "description": "Updates User password"
      }
    },
    "/api/users/{id}": {
      "put": {
        "tags": [
          "User"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/UserResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/UserUpdate"
            },
            "required": false,
            "name": "user",
            "in": "body",
            "description": "User update attrs"
          },
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "User ID"
          }
        ],
        "operationId": "TdAuthWeb.UserController.update",
        "description": "Updates User"
      },
      "patch": {
        "tags": [
          "User"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/UserResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/UserUpdate"
            },
            "required": false,
            "name": "user",
            "in": "body",
            "description": "User update attrs"
          },
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "User ID"
          }
        ],
        "operationId": "TdAuthWeb.UserController.update",
        "description": "Updates User"
      },
      "get": {
        "tags": [
          "User"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/UserResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "User ID"
          }
        ],
        "operationId": "TdAuthWeb.UserController.show",
        "description": "Show User"
      },
      "delete": {
        "tags": [
          "User"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "User ID"
          }
        ],
        "operationId": "TdAuthWeb.UserController.delete",
        "description": "Delete User"
      }
    },
    "/api/users": {
      "post": {
        "tags": [
          "User"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "201": {
            "schema": {
              "$ref": "#/definitions/UserResponse"
            },
            "description": "Created"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/UserCreate"
            },
            "required": false,
            "name": "user",
            "in": "body",
            "description": "User create attrs"
          }
        ],
        "operationId": "TdAuthWeb.UserController.create",
        "description": "Creates a User"
      },
      "get": {
        "tags": [
          "User"
        ],
        "summary": "",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/UsersResponseData"
            },
            "description": "OK"
          }
        },
        "parameters": [],
        "operationId": "TdAuthWeb.UserController.index",
        "description": "List Users"
      }
    },
    "/api/sessions/refresh": {
      "post": {
        "tags": [
          "Session"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "201": {
            "schema": {
              "$ref": "#/definitions/Token"
            },
            "description": "Created"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/RefreshSessionCreate"
            },
            "required": false,
            "name": "user",
            "in": "body",
            "description": "User token"
          }
        ],
        "operationId": "TdAuthWeb.SessionController.refresh",
        "description": "Returns new token"
      }
    },
    "/api/sessions": {
      "post": {
        "tags": [
          "Session"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "201": {
            "schema": {
              "$ref": "#/definitions/Token"
            },
            "description": "Created"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/SessionCreate"
            },
            "required": false,
            "name": "user",
            "in": "body",
            "description": "User session create attrs"
          }
        ],
        "operationId": "TdAuthWeb.SessionController.create",
        "description": "Creates a user session"
      }
    },
    "/api/roles/{id}": {
      "put": {
        "tags": [
          "Role"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/RoleResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/RoleCreateUpdate"
            },
            "required": false,
            "name": "data_domain",
            "in": "body",
            "description": "Role update attrs"
          },
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Role ID"
          }
        ],
        "operationId": "TdAuthWeb.RoleController.update",
        "description": "Updates Role"
      },
      "patch": {
        "tags": [
          "Role"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/RoleResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/RoleCreateUpdate"
            },
            "required": false,
            "name": "data_domain",
            "in": "body",
            "description": "Role update attrs"
          },
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Role ID"
          }
        ],
        "operationId": "TdAuthWeb.RoleController.update",
        "description": "Updates Role"
      },
      "get": {
        "tags": [
          "Role"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/RoleResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Role ID"
          }
        ],
        "operationId": "TdAuthWeb.RoleController.show",
        "description": "Show Role"
      },
      "delete": {
        "tags": [
          "Role"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "204": {
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Role ID"
          }
        ],
        "operationId": "TdAuthWeb.RoleController.delete",
        "description": "Delete Role"
      }
    },
    "/api/roles": {
      "post": {
        "tags": [
          "Role"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "201": {
            "schema": {
              "$ref": "#/definitions/RoleResponse"
            },
            "description": "Created"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/RoleCreateUpdate"
            },
            "required": false,
            "name": "role",
            "in": "body",
            "description": "Role create attrs"
          }
        ],
        "operationId": "TdAuthWeb.RoleController.create",
        "description": "Creates a Role"
      },
      "get": {
        "tags": [
          "Role"
        ],
        "summary": "",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/RolesResponse"
            },
            "description": "OK"
          }
        },
        "parameters": [],
        "operationId": "TdAuthWeb.RoleController.index",
        "description": "List Roles"
      }
    },
    "/api/groups/{id}": {
      "put": {
        "tags": [
          "Group"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/GroupResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/GroupUpdate"
            },
            "required": false,
            "name": "group",
            "in": "body",
            "description": "Group update attrs"
          },
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Group ID"
          }
        ],
        "operationId": "TdAuthWeb.GroupController.update",
        "description": "Update Group"
      },
      "patch": {
        "tags": [
          "Group"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/GroupResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/GroupUpdate"
            },
            "required": false,
            "name": "group",
            "in": "body",
            "description": "Group update attrs"
          },
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Group ID"
          }
        ],
        "operationId": "TdAuthWeb.GroupController.update",
        "description": "Update Group"
      },
      "get": {
        "tags": [
          "Group"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/GroupResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Group ID"
          }
        ],
        "operationId": "TdAuthWeb.GroupController.show",
        "description": "Show group"
      },
      "delete": {
        "tags": [
          "Group"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "204": {
            "description": ""
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Group ID"
          }
        ],
        "operationId": "TdAuthWeb.GroupController.delete",
        "description": "Delete Group"
      }
    },
    "/api/groups": {
      "post": {
        "tags": [
          "Group"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "201": {
            "schema": {
              "$ref": "#/definitions/GroupResponse"
            },
            "description": "Created"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/GroupCreate"
            },
            "required": false,
            "name": "user",
            "in": "body",
            "description": "Group create attrs"
          }
        ],
        "operationId": "TdAuthWeb.GroupController.create",
        "description": "Create a group"
      },
      "get": {
        "tags": [
          "Group"
        ],
        "summary": "",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/GroupsResponseData"
            },
            "description": "OK"
          }
        },
        "parameters": [],
        "operationId": "TdAuthWeb.GroupController.index",
        "description": "List groups"
      }
    },
    "/api/acl_entries/{id}": {
      "put": {
        "tags": [
          "AclEntry"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/AclEntryResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/AclEntryCreateUpdate"
            },
            "required": false,
            "name": "acl_entry",
            "in": "body",
            "description": "Acl entry update attrs"
          },
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Acl Entry ID"
          }
        ],
        "operationId": "TdAuthWeb.AclEntryController.update",
        "description": "Updates Acl entry"
      },
      "patch": {
        "tags": [
          "AclEntry"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/AclEntryResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/AclEntryCreateUpdate"
            },
            "required": false,
            "name": "acl_entry",
            "in": "body",
            "description": "Acl entry update attrs"
          },
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Acl Entry ID"
          }
        ],
        "operationId": "TdAuthWeb.AclEntryController.update",
        "description": "Updates Acl entry"
      },
      "get": {
        "tags": [
          "AclEntry"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "200": {
            "schema": {
              "$ref": "#/definitions/AclEntryResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Acl Entry ID"
          }
        ],
        "operationId": "TdAuthWeb.AclEntryController.show",
        "description": "Show Acl Entry"
      },
      "delete": {
        "tags": [
          "AclEntry"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "204": {
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "type": "integer",
            "required": true,
            "name": "id",
            "in": "path",
            "description": "Acl entry ID"
          }
        ],
        "operationId": "TdAuthWeb.AclEntryController.delete",
        "description": "Delete Acl Entry"
      }
    },
    "/api/acl_entries/create_or_update": {
      "post": {
        "tags": [
          "AclEntry"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "201": {
            "schema": {
              "$ref": "#/definitions/AclEntryResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/AclEntryCreateOrUpdate"
            },
            "required": false,
            "name": "acl_entry",
            "in": "body",
            "description": "Acl entry create or update attrs"
          }
        ],
        "operationId": "TdAuthWeb.AclEntryController.create_or_update",
        "description": "Creates or Updates an Acl Entry"
      }
    },
    "/api/acl_entries": {
      "post": {
        "tags": [
          "AclEntry"
        ],
        "summary": "",
        "responses": {
          "400": {
            "description": "Client Error"
          },
          "201": {
            "schema": {
              "$ref": "#/definitions/AclEntryResponse"
            },
            "description": "OK"
          }
        },
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "schema": {
              "$ref": "#/definitions/AclEntryCreateUpdate"
            },
            "required": false,
            "name": "acl_entry",
            "in": "body",
            "description": "Acl entry create attrs"
          }
        ],
        "operationId": "TdAuthWeb.AclEntryController.create",
        "description": "Creates an Acl Entry"
      },
      "get": {
        "tags": [
          "AclEntry"
        ],
        "summary": "",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/AclEntriesResponse"
            },
            "description": "OK"
          }
        },
        "parameters": [],
        "operationId": "TdAuthWeb.AclEntryController.index",
        "description": "List Acl Entries"
      }
    }
  },
  "info": {
    "version": "1.0",
    "title": "TDAuth"
  },
  "host": "localhost:4001",
  "definitions": {
    "RolesResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/Roles"
        }
      }
    },
    "PermissionResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/Permission"
        }
      }
    },
    "Group": {
      "type": "object",
      "title": "Group",
      "required": [
        "name",
        "id"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "name"
        },
        "id": {
          "type": "integer",
          "description": "unique identifier"
        },
        "description": {
          "type": "string",
          "description": "description"
        }
      },
      "example": {
        "name": "mygroup",
        "id": 123,
        "description": "mydescription"
      },
      "description": "Group entity"
    },
    "GroupResponseAttrs": {
      "type": "object",
      "required": [
        "name",
        "id"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "name"
        },
        "id": {
          "type": "integer",
          "description": "unique identifier"
        },
        "description": {
          "type": "string",
          "description": "description"
        }
      }
    },
    "AclEntry": {
      "type": "object",
      "title": "Acl entry",
      "required": [
        "role_id",
        "resource_type",
        "resource_id",
        "principal_type",
        "principal_id",
        "id"
      ],
      "properties": {
        "role_id": {
          "type": "integer",
          "description": "id of role"
        },
        "resource_type": {
          "type": "string",
          "description": "type of resource: domain"
        },
        "resource_id": {
          "type": "integer",
          "description": "id of resource"
        },
        "principal_type": {
          "type": "string",
          "description": "type of principal: user"
        },
        "principal_id": {
          "type": "integer",
          "description": "id of principal"
        },
        "id": {
          "type": "integer",
          "description": "unique identifier"
        }
      },
      "description": "An Acl entry"
    },
    "GroupsCreate": {
      "type": "object",
      "properties": {
        "groups": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GroupCreateProps"
          }
        }
      }
    },
    "RoleResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/Role"
        }
      }
    },
    "RefreshSessionCreate": {
      "type": "object",
      "required": [
        "refresh_token"
      ],
      "properties": {
        "refresh_token": {
          "type": "string",
          "description": "refresh token"
        }
      }
    },
    "SessionCreate": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/Session"
        }
      }
    },
    "AclEntryResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/AclEntry"
        }
      }
    },
    "GroupCreate": {
      "type": "object",
      "properties": {
        "group": {
          "$ref": "#/definitions/GroupCreateProps"
        }
      }
    },
    "AclEntriesResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/AclEntries"
        }
      }
    },
    "UserChangePassword": {
      "type": "object",
      "required": [
        "new_password",
        "old_password"
      ],
      "properties": {
        "old_password": {
          "type": "string",
          "description": "current password"
        },
        "new_password": {
          "type": "string",
          "description": "new password"
        }
      }
    },
    "PermissionItems": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/PermissionItem"
      }
    },
    "Roles": {
      "type": "array",
      "title": "Roles",
      "items": {
        "$ref": "#/definitions/Role"
      },
      "description": "A collection of Roles"
    },
    "Token": {
      "type": "object",
      "title": "Auth Token",
      "required": [
        "refresh_token"
      ],
      "properties": {
        "token": {
          "type": "string",
          "description": "token"
        },
        "refresh_token": {
          "type": "string",
          "description": "refresh token"
        }
      }
    },
    "GroupsResponse": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/GroupResponseAttrs"
      }
    },
    "UsersResponseData": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/UsersResponse"
        }
      }
    },
    "Groups": {
      "type": "array",
      "title": "Groups",
      "items": {
        "$ref": "#/definitions/Group"
      },
      "description": "A collection of Groups"
    },
    "User": {
      "type": "object",
      "title": "User",
      "required": [
        "email",
        "is_admin",
        "user_name",
        "id"
      ],
      "properties": {
        "user_name": {
          "type": "string",
          "description": "user name"
        },
        "password": {
          "type": "string",
          "description": "user password"
        },
        "is_admin": {
          "type": "boolean",
          "description": "flag is admin"
        },
        "id": {
          "type": "integer",
          "description": "unique identifier"
        },
        "groups": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "full_name": {
          "type": "string",
          "description": "full name"
        },
        "email": {
          "type": "string",
          "description": "email"
        }
      },
      "example": {
        "user_name": "myuser",
        "password": "myuserpass",
        "is_admin": false,
        "id": 123,
        "groups": [
          "group1"
        ],
        "full_name": "My User",
        "email": "some@email.com"
      },
      "description": "User entity"
    },
    "UserUpdate": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/UserUpdateProps"
        }
      }
    },
    "Permission": {
      "type": "object",
      "title": "Permission",
      "required": [
        "name",
        "id"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "permission name"
        },
        "id": {
          "type": "integer",
          "description": "unique identifier"
        }
      },
      "description": "Permission"
    },
    "GroupUpdateProps": {
      "type": "object",
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "name"
        },
        "description": {
          "type": "string",
          "description": "description"
        }
      }
    },
    "GroupResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/GroupResponseAttrs"
        }
      }
    },
    "AclEntryCreateUpdate": {
      "type": "object",
      "properties": {
        "acl_entry": {
          "type": "object",
          "required": [
            "role_id",
            "resource_type",
            "resource_id",
            "principal_type",
            "principal_id"
          ],
          "properties": {
            "role_id": {
              "type": "integer",
              "description": "id of role"
            },
            "resource_type": {
              "type": "string",
              "description": "type of resource: domain"
            },
            "resource_id": {
              "type": "integer",
              "description": "id of resource"
            },
            "principal_type": {
              "type": "string",
              "description": "type of principal: user"
            },
            "principal_id": {
              "type": "integer",
              "description": "id of principal"
            }
          }
        }
      }
    },
    "AclEntryCreateOrUpdate": {
      "type": "object",
      "properties": {
        "acl_entry": {
          "type": "object",
          "required": [
            "role_name",
            "resource_type",
            "resource_id",
            "principal_type",
            "principal_id"
          ],
          "properties": {
            "role_name": {
              "type": "string",
              "description": "role name"
            },
            "resource_type": {
              "type": "string",
              "description": "type of resource: domain"
            },
            "resource_id": {
              "type": "integer",
              "description": "id of resource"
            },
            "principal_type": {
              "type": "string",
              "description": "type of principal: user"
            },
            "principal_id": {
              "type": "integer",
              "description": "id of principal"
            }
          }
        }
      }
    },
    "PermissionItem": {
      "type": "object",
      "required": [
        "id"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "permission name"
        },
        "id": {
          "type": "integer",
          "description": "unique identifier"
        }
      }
    },
    "Role": {
      "type": "object",
      "title": "Role",
      "required": [
        "name",
        "id"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "role name"
        },
        "id": {
          "type": "integer",
          "description": "unique identifier"
        }
      },
      "description": "Role"
    },
    "UserUpdateProps": {
      "type": "object",
      "required": [
        "email",
        "password",
        "user_name"
      ],
      "properties": {
        "user_name": {
          "type": "string",
          "description": "user name"
        },
        "password": {
          "type": "string",
          "description": "user password"
        },
        "is_admin": {
          "type": "boolean",
          "description": "is admin flag"
        },
        "groups": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "email": {
          "type": "string",
          "description": "some@email.com"
        }
      }
    },
    "GroupUpdate": {
      "type": "object",
      "properties": {
        "group": {
          "$ref": "#/definitions/GroupUpdateProps"
        }
      }
    },
    "AddPermissionsToRole": {
      "type": "object",
      "properties": {
        "permissions": {
          "$ref": "#/definitions/PermissionItems"
        }
      }
    },
    "PermissionsResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/Permissions"
        }
      }
    },
    "Users": {
      "type": "array",
      "title": "Users",
      "items": {
        "$ref": "#/definitions/User"
      },
      "description": "A collection of Users"
    },
    "UserResponse": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/UserResponseAttrs"
        }
      }
    },
    "UserCreate": {
      "type": "object",
      "properties": {
        "user": {
          "$ref": "#/definitions/UserCreateProps"
        }
      }
    },
    "UserCreateProps": {
      "type": "object",
      "required": [
        "email",
        "password",
        "user_name"
      ],
      "properties": {
        "user_name": {
          "type": "string",
          "description": "user name"
        },
        "password": {
          "type": "string",
          "description": "user password"
        },
        "is_admin": {
          "type": "boolean",
          "description": "is admin flag"
        },
        "groups": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "email": {
          "type": "string",
          "description": "some@email.com"
        }
      }
    },
    "RoleCreateUpdate": {
      "type": "object",
      "properties": {
        "role": {
          "type": "object",
          "required": [
            "name"
          ],
          "properties": {
            "name": {
              "type": "string",
              "description": "role name"
            }
          }
        }
      }
    },
    "UserResponseAttrs": {
      "type": "object",
      "required": [
        "email",
        "is_admin",
        "user_name",
        "id"
      ],
      "properties": {
        "user_name": {
          "type": "string",
          "description": "user name"
        },
        "is_admin": {
          "type": "boolean",
          "description": "flag is admin"
        },
        "id": {
          "type": "integer",
          "description": "unique identifier"
        },
        "groups": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "full_name": {
          "type": [
            "string",
            "null"
          ],
          "description": "full name"
        },
        "email": {
          "type": "string",
          "description": "email"
        }
      }
    },
    "AclEntries": {
      "type": "array",
      "title": "Acl entries",
      "items": {
        "$ref": "#/definitions/AclEntry"
      },
      "description": "A collection of Acl Entry"
    },
    "Session": {
      "type": "object",
      "required": [
        "password",
        "user_name"
      ],
      "properties": {
        "user_name": {
          "type": "string",
          "description": "user name"
        },
        "password": {
          "type": "string",
          "description": "password"
        }
      }
    },
    "Permissions": {
      "type": "array",
      "title": "Roles",
      "items": {
        "$ref": "#/definitions/Role"
      },
      "description": "A collection of Permissions"
    },
    "GroupsResponseData": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/GroupsResponse"
        }
      }
    },
    "GroupCreateProps": {
      "type": "object",
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "name"
        },
        "description": {
          "type": "string",
          "description": "description"
        }
      }
    },
    "UsersResponse": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/UserResponseAttrs"
      }
    }
  },
  "basePath": "/api"
}